import{u as E,r as i,j as e,L as P}from"./index-CgwXqBcU.js";import{o as b,P as M,D as T,B as R,F as k,C as B,a as S,b as A,l as L,A as q,p as Y,f as D,g as H,i as W}from"./calculations-oTcBS6OA.js";import{S as $}from"./SEOHead-Db7RtChS.js";import{T as z}from"./TryNextCalculator-DHMNp1n6.js";import{u as V,V as p}from"./useValidatedInput-BrMTt6eA.js";B.register(S,A,L,q,Y,D,H,W);const F=[{question:"What is an EMI?",answer:"EMI stands for Equated Monthly Installment. It is a fixed amount of money that a borrower pays to a lender at a specific date each month until the loan is fully repaid."},{question:"How is EMI calculated?",answer:"The formula is: [P x R x (1+R)^N] / [(1+R)^N - 1], where P is Principal, R is monthly interest rate, and N is the number of monthly installments."},{question:"What factors affect my EMI?",answer:"The three main factors are the Loan Amount, Interest Rate, and Loan Tenure. Increasing any of the first two increases your EMI, while increasing tenure decreases the monthly EMI but increases the total interest paid."},{question:"Can I lower my EMI?",answer:"You can lower your EMI by making a larger down payment, choosing a longer tenure, or negotiating for a lower interest rate with the lender."},{question:"Does a longer tenure save money?",answer:"No. While a longer tenure reduces your monthly burden (EMI), it significantly increases the total interest cost over the life of the loan."}],_={principal:{label:"Loan Amount",min:1e4,max:1e8,required:!0},rate:{label:"Interest Rate",min:1,max:100,allowDecimal:!0,required:!0},years:{label:"Tenure (Years)",min:1,max:40,allowDecimal:!1,required:!0}};function U(){const{formatCurrency:s,symbol:x}=E(),{values:l,errors:o,touched:c,handleChange:d,handleBlur:u,getNumericValue:m}=V({principal:"1000000",rate:"8.5",years:"20"},_),[t,g]=i.useState(null),[y,j]=i.useState([]),I=i.useRef(null);i.useEffect(()=>{const a=m("principal"),n=m("rate"),h=parseInt(l.years);if(a>0&&n>0&&h>0){const r=b(a,n,h);g(r);const f=Math.max(1,h-5),v=b(a,n,f),C=r.totalInterest-v.totalInterest;r.emi*.1,j([{title:"Interest Saving Hack",text:`By reducing your tenure to ${f} years, you would save ${s(C)} in total interest! Your monthly EMI would increase by ${s(v.emi-r.emi)}.`,icon:"ðŸ’°"},{title:"The Interest Trap",text:`Your total interest (${s(r.totalInterest)}) is ${(r.totalInterest/a*100).toFixed(0)}% of your loan amount. Consider making small prepayments to reduce this significantly.`,icon:"âš ï¸"}])}else g(null),j([])},[l,x]);const N=t?{labels:["Principal Loan Amount","Total Interest"],datasets:[{data:[m("principal"),t.totalInterest],backgroundColor:["#3b82f6","#ef4444"],borderWidth:0}]}:null,w=t?{labels:t.schedule.map(a=>`Year ${a.year}`),datasets:[{label:"Principal Paid",data:t.schedule.map(a=>a.principalPaid),backgroundColor:"#3b82f6"},{label:"Interest Paid",data:t.schedule.map(a=>a.interestPaid),backgroundColor:"#ef4444"}]}:null;return e.jsxs("div",{className:"calculator-page",children:[e.jsx($,{title:"EMI Calculator India â€“ Loan Planner | FinanceCalc",description:"Calculate Home, Car, or Personal Loan EMI instantly. Includes amortization schedule, interest breakdown and smart loan insights.",canonical:"/emi-calculator"}),e.jsxs("nav",{className:"breadcrumbs",children:[e.jsx(P,{to:"/",children:"Home"}),e.jsx("span",{children:"/"}),e.jsx("span",{children:"EMI Calculator"})]}),e.jsxs("section",{className:"calculator-hero",children:[e.jsx("h1",{children:"EMI Calculator"}),e.jsx("p",{className:"hero-subtitle",children:"Plan your loans with instant EMI projections and interest-saving strategies."})]}),e.jsxs("form",{className:"calculator-form",noValidate:!0,children:[e.jsxs("div",{className:"form-grid",children:[e.jsx(p,{name:"principal",label:"Loan Amount",value:l.principal,onChange:d,onBlur:u,error:o.principal,touched:c.principal,prefix:x}),e.jsx(p,{name:"rate",label:"Interest Rate (%)",value:l.rate,onChange:d,onBlur:u,error:o.rate,touched:c.rate,suffix:"%"}),e.jsx(p,{name:"years",label:"Tenure (Years)",value:l.years,onChange:d,onBlur:u,error:o.years,touched:c.years,suffix:"yrs"})]}),e.jsxs("div",{style:{marginTop:"1rem",textAlign:"center",color:"var(--text-muted)",fontSize:"0.75rem"},children:[e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"12",height:"12",style:{marginRight:"4px",verticalAlign:"middle"},children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("polyline",{points:"12 6 12 12 16 14"})]}),"Results update instantly as you change inputs."]}),e.jsx(M,{})]}),t&&e.jsxs("div",{className:"results-section",ref:I,children:[e.jsxs("div",{className:"results-summary",children:[e.jsxs("div",{className:"result-card highlight",children:[e.jsx("div",{className:"result-label",children:"Monthly EMI"}),e.jsx("div",{className:"result-value",children:s(t.emi)})]}),e.jsxs("div",{className:"result-card",children:[e.jsx("div",{className:"result-label",children:"Total Interest"}),e.jsx("div",{className:"result-value small",style:{color:"#ef4444"},children:s(t.totalInterest)})]}),e.jsxs("div",{className:"result-card",children:[e.jsx("div",{className:"result-label",children:"Total Payment"}),e.jsx("div",{className:"result-value small",children:s(t.totalPayment)})]})]}),y.length>0&&e.jsxs("div",{className:"smart-insights",style:{marginTop:"2.5rem"},children:[e.jsx("h3",{style:{marginBottom:"1rem",fontSize:"1.25rem"},children:"ðŸ’¡ Smart Advisor"}),e.jsx("div",{className:"insights-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"1rem"},children:y.map((a,n)=>e.jsxs("div",{className:"insight-card",style:{background:"var(--bg-glass)",padding:"1.25rem",borderRadius:"var(--radius-md)",border:"1px solid var(--border-primary)"},children:[e.jsxs("h4",{style:{color:"var(--accent-primary)",marginBottom:"0.5rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[a.icon," ",a.title]}),e.jsx("p",{style:{fontSize:"0.9rem",lineHeight:"1.6",color:"var(--text-secondary)"},children:a.text})]},n))})]}),e.jsxs("div",{className:"chart-section",style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"2rem",marginTop:"3rem"},children:[e.jsxs("div",{children:[e.jsx("h3",{children:"Payment Breakdown"}),e.jsx("div",{style:{maxWidth:280,margin:"0 auto"},children:e.jsx(T,{data:N,options:{plugins:{legend:{position:"bottom"}}}})})]}),e.jsxs("div",{children:[e.jsx("h3",{children:"Loan Progression"}),e.jsx("div",{className:"chart-container",style:{height:300},children:e.jsx(R,{data:w,options:{responsive:!0,maintainAspectRatio:!1,scales:{x:{stacked:!0},y:{stacked:!0,ticks:{callback:a=>s(a)}}}}})})]})]}),e.jsxs("div",{className:"data-table-wrapper",style:{marginTop:"3rem"},children:[e.jsx("h3",{children:"Annual Amortization Schedule"}),e.jsx("div",{className:"data-table-scroll",children:e.jsxs("table",{className:"data-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Year"}),e.jsx("th",{children:"Principal Paid"}),e.jsx("th",{children:"Interest Paid"}),e.jsx("th",{children:"Remaining Balance"})]})}),e.jsx("tbody",{children:t.schedule.map(a=>e.jsxs("tr",{children:[e.jsxs("td",{children:["Year ",a.year]}),e.jsx("td",{children:s(a.principalPaid)}),e.jsx("td",{style:{color:"#ef4444"},children:s(a.interestPaid)}),e.jsx("td",{children:s(a.remainingBalance)})]},a.year))})]})})]})]}),e.jsx(k,{faqs:F}),e.jsx(z,{currentPath:"/emi-calculator"})]})}export{U as default};
